<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <title>CONTACT US</title>
  <link href="style.css" rel="stylesheet" type="text/css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
  <link href="https://fonts.googleapis.com/css2?family=Diplomata&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <script src="https://cdn.emailjs.com/dist/email.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>

<body>
  <nav>
    <div class="BACK" onclick="BACK()"><i class="fa-solid fa-chevron-left"></i></div>
    <div class="logo">
      <span class="logod"></span>
      <p>RG</p><span class="logod logod2"></span>
    </div>
  </nav>

  <section class="Cform">
    <form class="hello" id="contact-form">
      <h1>* CONTACT US *
        <hr>
      </h1>
      <input type="name" id="emid" class="inp" name="Name" placeholder="ENTER YOUR NAME" required></input>

      <input type="email" id="emid" class="inp" name="Email" placeholder="ENTER YOUR EMAIL ID" required></input>

      <select id="Mainissue" onchange="showContent()" name="Mainissue" required>
        <option value="" disabled selected hidden>SELECT YOUR ISSUE ?</option>
        <option value="GAME RELATED QUERY">GAME RELATED QUERY</option>
        <option value="ITEM PURCHASE">ITEM PURCHASE</option>
        <option value="REPORT BUG">REPORT BUG</option>
        <option value="OTHER">OTHER</option>
      </select>

      <!--SUB ISSUE-->

      <select id="subissue" onchange="showContent()" name="subissue" required>
        <option value="" disabled selected hidden>SELECT YOUR SUB-ISSUE ?</option>
      </select>

      <textarea rows="5" cols="30" placeholder="EXPLAIN THE ISSUE (MINIMUM LENGTH 100 WORDS)...." class="txt"
        maxlength="1000" minlength="10" name="message" required></textarea>

      <button type="submit" class="btn" onclick="print ()">SUBMIT</button>

    </form>
    <div id="popup" class="pop">
      <h3>
        <b>THANK YOU FOR CONNECTING US</b>
      </h3>
      <p>
        YOUR TICKET ID :- <span id="tid"></span>.<br>
        YOUR COMPLAINT TICKET WILL BE RAISED SUCESSFULLY. PLEASE COPY YOUR TICKET ID FOR FUTURE REFERENCE.
        OUR TEAM WILL CONTACT YOU AS SOON AS POSSIBLE.
        THANK YOU.<br>
        TEAM RG GAMING.
      </p>
      <button class="close" onclick="closepopup()">CLOSE</button>
    </div>
  </section>
  <footer class="ft">&copy COPYRIGHT BY RG GAMING IN 2024</footer>
  <script src="script.js"></script>

  <script src="https://cdn.emailjs.com/dist/email.min.js"></script>
  <script>
    (function () {
      
      emailjs.init("-E5HO-T9pUBXkXIk5");
    })();

    
    document.getElementById('contact-form').addEventListener('submit', function (event) {
      event.preventDefault();

      
      var formData = {
        To_Name: "PRINCE DAKSH",
        Name: this.Name.value,
        Email_id: this.Email.value,
        Mainissue: this.Mainissue.value,
        Subissue: this.subissue.value,
        Message: this.message.value
      };

      
      emailjs.send("service_p0h6s6q", "template_q80dn6l", formData)
        .then(function (response) {
          console.log('Success!', response.status, response.text);

          
          show();
        })
        .catch(function (error) {
          console.log('Failed!', error);
          alert("SOMTHING WENT WRONG ");
          
        });
    });

   
    function show() {
      let div = document.getElementById('popup');
      div.classList.add('SHOW');

      let ticketId = Math.floor(Math.random() * 9_000_000_000_000) + 100_000_000_000;
      let span = document.getElementById("tid");
      span.innerText = ticketId;
    }

    function closepopup(){
      let div = document.getElementById('popup');
      div.classList.remove('SHOW');
      const form = document.getElementById('contact-form');
      form.reset();
    }
  </script>
</body>

</html>
